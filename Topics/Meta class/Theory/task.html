<h2>Meta class</h2>
<div class="step-text">
<p>Sometimes we want to change how our data is stored or how we can access the table. Generally, Django ORM does the heavy lifting, including building tables, naming fields, and data ordering. In Django, we can communicate a database with additional parameters while storing data. This can be done using the optional <code class="language-python">Meta</code> class.</p><h5 id="the-meta-class">The meta class</h5><p>In Django, we can create a metadata class that provides additional information about the <code class="language-python">Model</code> class we have created before. The metadata of the <code class="language-python">Model</code> class is anything that is not a field. They may include <strong>ordering options</strong>, <strong>naming</strong> a database table, <strong>giving</strong> <strong>singular </strong>and <strong>plural </strong>names to the models, and so on. Django provides us with 25 available meta options; two are read-only. Here, we will talk about a few of the most frequently-used <code class="language-python">Meta</code> options. You can find more about them in the official <a href="https://docs.djangoproject.com/en/3.2/ref/models/options/" rel="noopener noreferrer nofollow" target="_blank">Django documentation</a>.</p><p>The <code class="language-python">meta</code> class is the inner class of a model. It defines the selected <code class="language-python">model</code> class. For example, we can compose a model as follows:</p><pre><code class="language-python">from django.db import models

class Player(models.Model):
    name = models.CharField(max_length=250)</code></pre><p>This is our typical model. The <code class="language-python">model</code> class defines a <code class="language-python">Player</code> that has a name field. We can add the <code class="language-python">meta</code> class as:</p><pre><code class="language-python">from django.db import models
class Player(models.Model):
    name = models.CharField(max_length=250)
    class Meta:
        ordering = ["name"]
        verbose_name_plural = "players"</code></pre><p>We've added the <code class="language-python">meta</code> class to the <code class="language-python">player</code> model. Generally, objects are ordered based on their id. Here, we've overridden the ordering option. Now, our model is ordered alphabetically. The <code class="language-python">verbose_name_plural</code> is added to get a plural name for the object. There is a similar option called <code class="language-python">verbose_name</code>. These two options give an ordinary-language name for a model. We will brief you on this later.</p><h5 id="additional-meta-options">Additional meta options</h5><p>In this section, we will glance through additional options of the <code class="language-python">meta</code> class.</p><p>Django can automatically derive the database table name from the name of our model class and the app that contains it. A model’s database table name is constructed by joining the model’s app name and the model’s class name with an underscore in between. Suppose we have the <code class="language-python">car</code> model inside an app named <code class="language-python">Vehicle</code>. In this case, the table name is going to be <code class="language-python">vehicle_car</code>. The <code class="language-python">CamelCase</code> class name is replaced as <code class="language-python">camel_case</code>:</p><pre><code class="language-python">class Car:
    ...  
    ...
    class Meta:
        db_table = 'car'</code></pre><p><br/>By defining <code class="language-python">db_table</code>, we can name the table as we want, given the details above.</p><p>Sometimes while writing a <code class="language-python">model</code> class, we may define it outside of the app listed under <code class="language-python">INSTALLED_APPS</code> in the settings. In this case, we must declare the model in the app where it belongs. This can be done by adding the <code class="language-python">app_label</code> option in the <code class="language-python">meta</code> class.<br/>Suppose we have defined the <code class="language-python">car</code> class used in the previous example in some other app. We must define <code class="language-python">app_label</code> as:</p><pre><code class="language-python">class Car:
    ...
    ...
    class Meta:
        app_label = 'my_app'</code></pre><p>Another additional parameter that can be included in the <code class="language-python">meta</code> class is <code class="language-python">verbose_name</code>. It provides an everyday-language readable name for the model we define. If our model is <code class="language-python">CamelCase</code>, it will be converted as <code class="language-python">Camel Case</code>. This option works most of the time when you want to name the model in a more descriptive or human-readable way. For this, refer to <code class="language-python">verbose_name</code>:</p><pre><code class="language-python">class AboutCars:
    ...
    ...
    class Meta:
        verbose_name = 'Car'</code></pre><p>The model name was changed to just <code class="language-python">Car</code> instead of <code class="language-python">About Cars</code>.</p><p><code class="language-python">Verbose_name_plural</code> has functionality similar to <code class="language-python">verbose_name</code>. It gives an ordinary-language plural form to the model we've defined. We have defined a <code class="language-python">model</code> class <code class="language-python">Child</code> and have registered it in <code class="language-python">admin.py</code>. If we open our admin panel, we can see the model as <code class="language-python">Childs</code>. This is the result provided by Django. If <code class="language-python">verbose_name_plural</code> is not defined, Django, by default, puts it as <code class="language-python">verbose_name</code> + <code class="language-python">s</code>. Since <code class="language-python">Childs</code> is not correct, we can change it by passing the correct plural name in <code class="language-python">verbose_name_plural</code>:</p><pre><code class="language-python">class Child:
    ...
    ...
    class Meta:
        verbose_name = 'child'
        verbose_name_plural = 'children'</code></pre><p>After adding <code class="language-python">verbose_name_plural</code>, we can take another look at our admin page — <code class="language-python">Childs</code> model is now <code class="language-python">Children</code>; the data inside remain unchanged.</p><p>Sometimes, we need to provide additional permissions to certain users and objects. We can change the <code class="language-python">permissions</code> option. Permissions to add, change, delete, and view are automatically created for each model:</p><pre><code class="language-python">class Adult:
    ...    
    ...
    class Meta:
        permissions = [('can_work', 'Can work')]</code></pre><p>This permission option provides the model object <code class="language-python">Adult</code> with the external permission <code class="language-python">can_work</code> that has been defined in the project. The permission option is a list of tuple-pairs in the format: <code class="language-python">permission_code, human_readable_permission_name</code>.</p><p>The default ordering of the objects in the database is usually alphabetical. We can change it by overriding the ordering option in the <code class="language-python">meta</code> class.</p><pre><code class="language-python">class Adult:
    ...   
    ...
    order_date = models.DateField()
    class Meta:
        ordering = ['-order_date']</code></pre><p>This option is a tuple or list of strings and/or query expressions. Each string is a field name with the optional <code class="language-python">-</code> prefix that indicates descending order. Fields without the leading <code class="language-python">-</code> will be ordered ascendingly. You can also use <code class="language-python">?</code> for random ordering.</p><p>For example, to order by an <code class="language-python">order_date</code> field in ascending order, use this:</p><pre><code class="language-python">ordering = ['order_date']</code></pre><p>To order by name in descending order:</p><pre><code class="language-python">ordering = ['-author']</code></pre><p>We can order an object based on any field.</p><h5 id="conclusion">Conclusion</h5><p>The <code class="language-python">meta</code> class communicates and alters a database with the help of <code class="language-python">meta</code> options without actually writing a query. <code class="language-python">Meta</code> options are safe, as they do not change data in the database. <code class="language-python">Meta</code> options are plentiful. It's worth trying them all! In this topic, we have discussed the following options:</p><ol><li><p><code class="language-python">db_table</code><strong> </strong>sets a database table name;</p></li><li><p><code class="language-python">app_label</code><strong> </strong>sets an app label;</p></li><li><p><code class="language-python">verbose_name</code><strong> </strong>outputs an ordinary-language name of a model;</p></li><li><p><code class="language-python">verbose_name_plural</code><strong> </strong>provides a plural name of a model;</p></li><li><p><code class="language-python">permissions</code><strong> </strong>provides permissions to model objects;</p></li><li><p><code class="language-python">ordering</code><strong> </strong>orders model objects.</p></li></ol>
</div>
